@import "tailwindcss";

:root {
  color-scheme: dark;

  /* App-wide dark tokens (Tailwind still drives layout; these help global polish). */
  --background: #07070a; /* deeper than zinc-950 */
  --foreground: #fafafa; /* near white */
  --muted-foreground: rgb(161 161 170); /* zinc-400 */
  --border: rgb(39 39 42); /* zinc-800 */
  --panel: rgb(24 24 27 / 0.35); /* zinc-900/35 */
  --panel-strong: rgb(9 9 11 / 0.65); /* zinc-950/65 */

  /* Subtle accent used for focus + glow. */
  --accent: 244 244 245; /* zinc-100 */
}

html,
body {
  height: 100%;
}

body {
  background: radial-gradient(1200px 700px at 18% -10%, rgb(63 63 70 / 0.32), transparent 60%),
    radial-gradient(900px 500px at 95% 0%, rgb(24 24 27 / 0.5), transparent 55%),
    linear-gradient(180deg, var(--background), #050508 60%, #040406);
  color: var(--foreground);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial,
    "Noto Sans", "Liberation Sans", sans-serif;

  /* Prevent horizontal page drift while internal panels scroll. */
  overflow-x: hidden;
}

/* Keep content from forcing page scroll when we use h-dvh shells */
#__next {
  min-height: 100%;
}

/* Subtle, consistent border color in dark mode */
* {
  border-color: var(--border);
}

::selection {
  background: rgb(var(--accent) / 0.18);
}

/* Nicer default scrollbars (Chromium/Edge) */
::-webkit-scrollbar {
  height: 10px;
  width: 10px;
}

::-webkit-scrollbar-thumb {
  background: rgb(63 63 70 / 0.65);
  border-radius: 999px;
  border: 2px solid rgb(9 9 11 / 0.8);
}

::-webkit-scrollbar-track {
  background: transparent;
}

/* Better markdown rendering in dark mode */
.prose :where(code):not(:where(pre code)) {
  padding: 0.12rem 0.35rem;
  border: 1px solid rgb(63 63 70 / 0.6);
  border-radius: 0.45rem;
  background: rgb(9 9 11 / 0.6);
}

.prose pre {
  background: rgb(9 9 11 / 0.72);
  color: rgb(244 244 245);
  border: 1px solid rgb(63 63 70 / 0.55);
}

/* Tables (GFM) */
.markdown-output :where(table) {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  overflow: hidden;
  border: 1px solid var(--border);
  border-radius: 0.75rem;
  background: rgb(9 9 11 / 0.35);
  display: block;
}

.markdown-output :where(thead) {
  background: rgb(24 24 27 / 0.5);
}

.markdown-output :where(th, td) {
  border-bottom: 1px solid var(--border);
  padding: 0.6rem 0.75rem;
  vertical-align: top;
}

.markdown-output :where(th) {
  font-weight: 600;
  color: rgb(250 250 250);
}

.markdown-output :where(tr:last-child td) {
  border-bottom: 0;
}

/* Ensure wide tables are scrollable without breaking the page */
.markdown-output :where(table) {
  overflow-x: auto;
}

/* Mermaid diagram container */
.mermaid-diagram {
  display: block;
  overflow-x: auto;
  padding: 0.9rem;
  border: 1px solid rgb(63 63 70 / 0.55);
  border-radius: 0.9rem;
  background: rgb(9 9 11 / 0.45);
}

.mermaid-diagram svg {
  max-width: 100%;
  height: auto;
}

.prose a {
  color: rgb(244 244 245);
  text-decoration-color: rgb(161 161 170 / 0.7);
}

.prose a:hover {
  text-decoration-color: rgb(244 244 245 / 0.75);
}

.prose :where(h1, h2, h3, h4) {
  color: rgb(250 250 250);
}

.prose :where(h2) {
  border-bottom: 1px solid rgb(63 63 70 / 0.4);
  padding-bottom: 0.3rem;
}

.prose blockquote {
  border-left-color: rgb(63 63 70 / 0.7);
  background: rgb(9 9 11 / 0.35);
  border-radius: 0.75rem;
}

.prose hr {
  border-color: rgb(63 63 70 / 0.35);
}

/* Avoid horizontal page scrolling caused by long code blocks/URLs */
.prose {
  overflow-wrap: anywhere;
}

/* Smooth internal scrolling for output panels (prevents page scroll feel) */
.output-scroll {
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
}
